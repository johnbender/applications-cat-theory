\documentclass[11hpt]{article}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage[all]{xy}
\usepackage{tikz}
\usetikzlibrary{positioning,shapes,shadows,arrows}

\begin{document}

\tikzstyle{abstract}=[rectangle, draw=black, rounded corners, fill=orange,
        text centered, anchor=north, text=white, text width=3cm, ]

\tikzstyle{legend-target}=[circle, draw=black, fill=orange,
        text centered, anchor=north, text=white, text width=0.25cm ]

\tikzstyle{fncall}=[->, -to, double]
\tikzstyle{protolookup}=[->, -to, thick]

\section{functor formulae}

\begin{equation} \label{eq:functor-arrows}
  \xymatrix{ F(A) \ar@/^/[r]^{F(f \circ g)} \ar@/_/[r]_{F(f) \circ F(g)} & F(C) }
\end{equation}
\begin{equation} \label{eq:functor-equate}
  F(f) \circ F(g) = F(f \circ g)
\end{equation}

\section{prototype configuration formulae}

\begin{equation}
 f \in hom(Jqry)
\end{equation}
\begin{equation} \label{eq:jquery-default}
 jQuery.fn.init \xmapsto{\ \ f_{\sigma}\ \ } jQuery.fn
\end{equation}
\begin{equation} \label{eq:jquery-with-proxy}
 jQuery.fn.init \xmapsto{\ \ f_{\sigma}\ \ } Proxy \xleftrightharpoons{\ \ f\ \ } jQuery.fn
\end{equation}

\section{diagrams}

\begin{tikzpicture}

  \node[legend-target] (snd-object) at (-1, 2) {
    \textbf{B}
  };

  \node[legend-target] (fst-object) at (-1, 0) {
    \textbf{A}
  };

  \draw[fncall] (fst-object) -| (snd-object);

  \node[legend-target] (proto) at (0, 2) {
    \textbf{B}
  };

  \node[legend-target] (instance) at (0, 0) {
    \textbf{A}
  };

  \draw[protolookup] (instance.north) -| (proto.south);

  \node[abstract] (jQueryFn) at (3, 2) {
    \textbf{jQuery.fn}
  };

  \node[abstract] (jQueryFnInit) at (3, 0) {
      \textbf{jQuery.fn.init}
  };

  \draw[protolookup] (jQueryFnInit.north) -| (jQueryFn.south);

  \node[abstract] (jQueryFn) at (7, 2) {
    \textbf{jQuery.fn}
  };

  \node[abstract] (LazyWarning) at (7, 1) {
    \textbf{LazyWarning}
  };

  \node[abstract] (jQueryFnInit) at (7, 0) {
      \textbf{jQuery.fn.init}
  };

  \draw[fncall] (LazyWarning.north) -| (jQueryFn.south);
  \draw[protolookup] (jQueryFnInit.north) -| (LazyWarning.south);
\end{tikzpicture}

\end{document}
